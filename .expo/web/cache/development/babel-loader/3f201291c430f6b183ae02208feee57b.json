{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport { StatusBar } from \"expo-status-bar\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport PostItems from \"../../components/postItems\";\nimport HeaderForMobile from \"../../components/headerForMobile\";\nimport { colors } from \"../../modal/color\";\nimport { useNavigation, useRoute } from \"@react-navigation/native\";\nimport HeaderForDesktop from \"../../components/headerForDesktop\";\nimport MenuDetailsForDesktop from \"../../components/menuDetailsForDesktop\";\nimport { API, Auth } from \"aws-amplify\";\nimport { createRentOrder } from \"../../graphql/mutations\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar PostDetails = function PostDetails() {\n  var windowWidth = Number(Dimensions.get(\"window\").width);\n  var route = useRoute();\n  var navigation = useNavigation();\n  console.log(\"Postdetails title is: \", route.params.postInfo.title);\n\n  var _useState = useState(JSON.parse(route.params.postInfo.images)),\n      _useState2 = _slicedToArray(_useState, 2),\n      images = _useState2[0],\n      setimages = _useState2[1];\n\n  var _useState3 = useState(route.params.postInfo.owner),\n      _useState4 = _slicedToArray(_useState3, 2),\n      lenderUserEmail = _useState4[0],\n      setLenderUserEmail = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      userEmail = _useState6[0],\n      setUserEmail = _useState6[1];\n\n  var substrEmail = lenderUserEmail.substr(0, lenderUserEmail.indexOf(\"@\"));\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      menuToggle = _useState8[0],\n      setMenuToggle = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      userID = _useState10[0],\n      setUserID = _useState10[1];\n\n  Auth.currentAuthenticatedUser().then(function (user) {\n    console.log(\"user id is: \", user.attributes.sub);\n    setUserID(user.attributes.sub);\n    setUserEmail(user.attributes.email);\n  }).catch(function (err) {\n    console.log(err);\n    throw err;\n  });\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      postSuccess = _useState12[0],\n      setPostSuccess = _useState12[1];\n\n  useEffect(function () {\n    if (postSuccess !== \"\") {\n      Alert.alert(\"Success\", postSuccess, [{\n        text: \"Ok\",\n        onPress: function onPress() {\n          return navigation.navigate(\"Home\", {\n            screen: \"Explore\"\n          });\n        }\n      }]);\n    }\n  }, [postSuccess]);\n\n  var orderToDB = function orderToDB() {\n    var postData;\n    return _regeneratorRuntime.async(function orderToDB$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            postData = {\n              advId: route.params.postInfo.id,\n              borrowerUserId: userID,\n              lenderUserID: route.params.postInfo.userID,\n              rentValue: route.params.postInfo.rentValue,\n              borrowerEmailID: userEmail,\n              lenderEmailID: lenderUserEmail,\n              commonID: \"1\"\n            };\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(API.graphql({\n              query: createRentOrder,\n              variables: {\n                input: postData\n              },\n              authMode: \"AMAZON_COGNITO_USER_POOLS\"\n            }));\n\n          case 3:\n            setPostSuccess(\"Your order have successfully placed.\");\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  return _jsxs(View, {\n    style: {\n      flex: 1,\n      position: \"relative\"\n    },\n    children: [_jsx(HeaderForDesktop, {\n      setMenuToggle: setMenuToggle,\n      menuToggle: menuToggle\n    }), _jsx(View, {\n      style: {\n        alignItems: \"center\"\n      },\n      children: _jsxs(View, {\n        style: {\n          width: windowWidth > 800 ? \"80%\" : \"100%\",\n          backgroundColor: windowWidth > 800 ? colors.white : colors.backgroundColor\n        },\n        children: [_jsx(ScrollView, {\n          horizontal: true,\n          children: images && images.map(function (data, index) {\n            return _jsx(Image, {\n              source: {\n                uri: \"https://dnezpuwttqdfg.cloudfront.net/fit-in/500x500/public/\" + images[index].imageUri\n              },\n              style: {\n                height: 320,\n                width: 380,\n                marginRight: 10\n              }\n            }, index);\n          })\n        }), _jsx(Text, {\n          style: {\n            marginLeft: 10,\n            fontSize: 30,\n            fontWeight: \"bold\",\n            marginRight: 10,\n            marginTop: 30,\n            color: colors.secondary\n          },\n          children: route.params.postInfo.title\n        }), _jsxs(View, {\n          style: {\n            margin: 10,\n            flexDirection: \"row\",\n            alignItems: \"center\",\n            marginTop: 20,\n            marginBottom: 20\n          },\n          children: [_jsx(View, {\n            style: {\n              backgroundColor: colors.secondary,\n              height: 50,\n              width: 50,\n              justifyContent: \"center\",\n              alignItems: \"center\",\n              borderRadius: 50,\n              paddingRight: 5,\n              marginRight: 10\n            },\n            children: _jsxs(Text, {\n              style: {\n                fontWeight: \"bold\",\n                fontSize: 20,\n                color: colors.primary\n              },\n              children: [\" \", substrEmail.charAt(0).toUpperCase()]\n            })\n          }), _jsxs(View, {\n            children: [_jsx(Text, {\n              style: {\n                color: colors.grey\n              },\n              children: \"Owned by\"\n            }), _jsx(Text, {\n              style: {\n                fontSize: 15,\n                fontWeight: \"bold\"\n              },\n              children: substrEmail\n            })]\n          })]\n        }), _jsxs(View, {\n          style: {\n            margin: 10,\n            flexDirection: \"row\",\n            justifyContent: \"space-around\",\n            borderTopWidth: 1,\n            borderTopColor: \"lightgrey\",\n            borderBottomWidth: 1,\n            borderBottomColor: \"lightgrey\",\n            paddingVertical: 20\n          },\n          children: [_jsxs(View, {\n            style: {\n              justifyContent: \"center\",\n              alignItems: \"center\"\n            },\n            children: [_jsxs(Text, {\n              style: {\n                fontSize: 20,\n                fontWeight: \"bold\",\n                color: colors.secondary\n              },\n              children: [\"$ \", route.params.postInfo.rentValue]\n            }), _jsx(Text, {\n              style: {\n                color: colors.grey\n              },\n              children: \"A day\"\n            })]\n          }), _jsxs(View, {\n            style: {\n              justifyContent: \"center\",\n              alignItems: \"center\"\n            },\n            children: [_jsxs(Text, {\n              style: {\n                fontSize: 20,\n                fontWeight: \"bold\",\n                color: colors.secondary\n              },\n              children: [\"$ \", route.params.postInfo.rentValue * 7]\n            }), _jsx(Text, {\n              style: {\n                color: colors.grey\n              },\n              children: \"A week\"\n            })]\n          }), _jsxs(View, {\n            style: {\n              justifyContent: \"center\",\n              alignItems: \"center\"\n            },\n            children: [_jsxs(Text, {\n              style: {\n                fontSize: 20,\n                fontWeight: \"bold\",\n                color: colors.secondary\n              },\n              children: [\"$ \", route.params.postInfo.rentValue * 30]\n            }), _jsx(Text, {\n              style: {\n                color: colors.grey\n              },\n              children: \"A month\"\n            })]\n          })]\n        }), _jsxs(View, {\n          style: {\n            margin: 10\n          },\n          children: [_jsx(Text, {\n            style: {\n              color: colors.secondary,\n              fontWeight: \"bold\"\n            },\n            children: \"Preferred Meetup Location\"\n          }), _jsx(Text, {\n            style: {\n              color: colors.secondary\n            },\n            children: route.params.postInfo.locationName\n          })]\n        }), _jsxs(View, {\n          style: {\n            margin: 10\n          },\n          children: [_jsx(Text, {\n            style: {\n              color: colors.secondary,\n              fontWeight: \"bold\"\n            },\n            children: \"Description\"\n          }), _jsx(Text, {\n            style: {\n              color: colors.secondary\n            },\n            children: route.params.postInfo.description\n          })]\n        })]\n      })\n    }), _jsx(Pressable, {\n      onPress: orderToDB,\n      style: {\n        position: \"absolute\",\n        bottom: 10,\n        right: windowWidth > 800 ? \"15%\" : \"40%\"\n      },\n      children: _jsx(Text, {\n        style: {\n          backgroundColor: colors.secondary,\n          paddingHorizontal: 20,\n          paddingVertical: 10,\n          borderRadius: 50,\n          color: colors.white,\n          elevation: 5\n        },\n        children: \"ORDER\"\n      })\n    }), _jsx(MenuDetailsForDesktop, {\n      menuToggle: menuToggle,\n      top: 59,\n      right: \"7.8%\"\n    })]\n  });\n};\n\nexport default PostDetails;","map":{"version":3,"sources":["C:/Users/Km Habib/Documents/GitHub/Rent_Project/rent/src/screens/postDetails/index.js"],"names":["React","useState","useEffect","StatusBar","PostItems","HeaderForMobile","colors","useNavigation","useRoute","HeaderForDesktop","MenuDetailsForDesktop","API","Auth","createRentOrder","PostDetails","windowWidth","Number","Dimensions","get","width","route","navigation","console","log","params","postInfo","title","JSON","parse","images","setimages","owner","lenderUserEmail","setLenderUserEmail","userEmail","setUserEmail","substrEmail","substr","indexOf","menuToggle","setMenuToggle","userID","setUserID","currentAuthenticatedUser","then","user","attributes","sub","email","catch","err","postSuccess","setPostSuccess","Alert","alert","text","onPress","navigate","screen","orderToDB","postData","advId","id","borrowerUserId","lenderUserID","rentValue","borrowerEmailID","lenderEmailID","commonID","graphql","query","variables","input","authMode","flex","position","alignItems","backgroundColor","white","map","data","index","uri","imageUri","height","marginRight","marginLeft","fontSize","fontWeight","marginTop","color","secondary","margin","flexDirection","marginBottom","justifyContent","borderRadius","paddingRight","primary","charAt","toUpperCase","grey","borderTopWidth","borderTopColor","borderBottomWidth","borderBottomColor","paddingVertical","locationName","description","bottom","right","paddingHorizontal","elevation"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { StatusBar } from \"expo-status-bar\";\nimport {\n  StyleSheet,\n  SafeAreaView,\n  Platform,\n  View,\n  Text,\n  Image,\n  ScrollView,\n  Dimensions,\n  Pressable,\n} from \"react-native\";\nimport PostItems from \"../../components/postItems\";\nimport HeaderForMobile from \"../../components/headerForMobile\";\nimport { colors } from \"../../modal/color\";\nimport { useNavigation, useRoute } from \"@react-navigation/native\";\nimport HeaderForDesktop from \"../../components/headerForDesktop\";\nimport MenuDetailsForDesktop from \"../../components/menuDetailsForDesktop\";\nimport { API, Auth } from \"aws-amplify\";\nimport { createRentOrder } from \"../../graphql/mutations\";\nconst PostDetails = () => {\n  const windowWidth = Number(Dimensions.get(\"window\").width);\n  const route = useRoute();\n  const navigation = useNavigation();\n  console.log(\"Postdetails title is: \", route.params.postInfo.title);\n  const [images, setimages] = useState(\n    JSON.parse(route.params.postInfo.images)\n  );\n  const [lenderUserEmail, setLenderUserEmail] = useState(\n    route.params.postInfo.owner\n  );\n  const [userEmail, setUserEmail] = useState(\"\");\n  const substrEmail = lenderUserEmail.substr(0, lenderUserEmail.indexOf(\"@\"));\n  // setUserEmail(substrEmail);\n  const [menuToggle, setMenuToggle] = useState(false);\n  const [userID, setUserID] = useState(\"\");\n\n  Auth.currentAuthenticatedUser()\n    .then((user) => {\n      console.log(\"user id is: \", user.attributes.sub);\n      setUserID(user.attributes.sub);\n      setUserEmail(user.attributes.email);\n    })\n    .catch((err) => {\n      console.log(err);\n      throw err;\n    });\n  const [postSuccess, setPostSuccess] = useState(\"\");\n  useEffect(() => {\n    if (postSuccess !== \"\") {\n      Alert.alert(\"Success\", postSuccess, [\n        {\n          text: \"Ok\",\n          onPress: () => navigation.navigate(\"Home\", { screen: \"Explore\" }),\n        },\n      ]);\n    }\n  }, [postSuccess]);\n  const orderToDB = async () => {\n    const postData = {\n      advId: route.params.postInfo.id,\n      borrowerUserId: userID,\n      lenderUserID: route.params.postInfo.userID,\n      rentValue: route.params.postInfo.rentValue,\n      borrowerEmailID: userEmail,\n      lenderEmailID: lenderUserEmail,\n      commonID: \"1\",\n    };\n    await API.graphql({\n      query: createRentOrder,\n      variables: { input: postData },\n      authMode: \"AMAZON_COGNITO_USER_POOLS\",\n    });\n    setPostSuccess(\"Your order have successfully placed.\");\n  };\n  return (\n    <View style={{ flex: 1, position: \"relative\" }}>\n      <HeaderForDesktop setMenuToggle={setMenuToggle} menuToggle={menuToggle} />\n      <View style={{ alignItems: \"center\" }}>\n        <View\n          style={{\n            width: windowWidth > 800 ? \"80%\" : \"100%\",\n            backgroundColor:\n              windowWidth > 800 ? colors.white : colors.backgroundColor,\n          }}>\n          <ScrollView horizontal={true}>\n            {images &&\n              images.map((data, index) => (\n                <Image\n                  source={{\n                    uri:\n                      \"https://dnezpuwttqdfg.cloudfront.net/fit-in/500x500/public/\" +\n                      images[index].imageUri,\n                  }}\n                  style={{\n                    height: 320,\n                    width: 380,\n                    marginRight: 10,\n                  }}\n                  key={index}\n                />\n              ))}\n          </ScrollView>\n          <Text\n            style={{\n              marginLeft: 10,\n              fontSize: 30,\n              fontWeight: \"bold\",\n              marginRight: 10,\n              marginTop: 30,\n              color: colors.secondary,\n            }}>\n            {route.params.postInfo.title}\n          </Text>\n          <View\n            style={{\n              margin: 10,\n              flexDirection: \"row\",\n              alignItems: \"center\",\n              marginTop: 20,\n              marginBottom: 20,\n            }}>\n            <View\n              style={{\n                backgroundColor: colors.secondary,\n                height: 50,\n                width: 50,\n                justifyContent: \"center\",\n                alignItems: \"center\",\n                borderRadius: 50,\n                paddingRight: 5,\n                marginRight: 10,\n              }}>\n              <Text\n                style={{\n                  fontWeight: \"bold\",\n                  fontSize: 20,\n                  color: colors.primary,\n                }}>\n                {\" \"}\n                {substrEmail.charAt(0).toUpperCase()}\n              </Text>\n            </View>\n            <View>\n              <Text style={{ color: colors.grey }}>Owned by</Text>\n              <Text style={{ fontSize: 15, fontWeight: \"bold\" }}>\n                {substrEmail}\n              </Text>\n            </View>\n          </View>\n          <View\n            style={{\n              margin: 10,\n              flexDirection: \"row\",\n              justifyContent: \"space-around\",\n              borderTopWidth: 1,\n              borderTopColor: \"lightgrey\",\n              borderBottomWidth: 1,\n              borderBottomColor: \"lightgrey\",\n              paddingVertical: 20,\n            }}>\n            <View style={{ justifyContent: \"center\", alignItems: \"center\" }}>\n              <Text\n                style={{\n                  fontSize: 20,\n                  fontWeight: \"bold\",\n                  color: colors.secondary,\n                }}>\n                $ {route.params.postInfo.rentValue}\n              </Text>\n              <Text style={{ color: colors.grey }}>A day</Text>\n            </View>\n            <View style={{ justifyContent: \"center\", alignItems: \"center\" }}>\n              <Text\n                style={{\n                  fontSize: 20,\n                  fontWeight: \"bold\",\n                  color: colors.secondary,\n                }}>\n                $ {route.params.postInfo.rentValue * 7}\n              </Text>\n              <Text style={{ color: colors.grey }}>A week</Text>\n            </View>\n            <View style={{ justifyContent: \"center\", alignItems: \"center\" }}>\n              <Text\n                style={{\n                  fontSize: 20,\n                  fontWeight: \"bold\",\n                  color: colors.secondary,\n                }}>\n                $ {route.params.postInfo.rentValue * 30}\n              </Text>\n              <Text style={{ color: colors.grey }}>A month</Text>\n            </View>\n          </View>\n          <View style={{ margin: 10 }}>\n            <Text style={{ color: colors.secondary, fontWeight: \"bold\" }}>\n              Preferred Meetup Location\n            </Text>\n            <Text style={{ color: colors.secondary }}>\n              {route.params.postInfo.locationName}\n            </Text>\n          </View>\n          <View style={{ margin: 10 }}>\n            <Text style={{ color: colors.secondary, fontWeight: \"bold\" }}>\n              Description\n            </Text>\n            <Text style={{ color: colors.secondary }}>\n              {route.params.postInfo.description}\n            </Text>\n          </View>\n        </View>\n      </View>\n      <Pressable\n        onPress={orderToDB}\n        style={{\n          position: \"absolute\",\n          bottom: 10,\n          right: windowWidth > 800 ? \"15%\" : \"40%\",\n        }}>\n        <Text\n          style={{\n            backgroundColor: colors.secondary,\n            paddingHorizontal: 20,\n            paddingVertical: 10,\n            borderRadius: 50,\n            color: colors.white,\n            elevation: 5,\n          }}>\n          ORDER\n        </Text>\n      </Pressable>\n      <MenuDetailsForDesktop menuToggle={menuToggle} top={59} right={\"7.8%\"} />\n    </View>\n  );\n};\n\nexport default PostDetails;\n"]},"metadata":{},"sourceType":"module"}